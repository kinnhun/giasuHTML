<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EduMentor - Gia s∆∞</title>

    <!-- ‚úÖ Bootstrap 5 CSS CDN -->
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap 5 JS (cu·ªëi body) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/section5.css" />

</head>

<body>

    <!-- Header -->
    <div id="header"></div>

    <!-- Section 1: Gi·ªõi thi·ªáu EduMentor -->
    <div id="section-1" class="container py-4"></div>
    <div class="section-divider with-icon">
        <span class="divider-icon"> </span>
    </div>


    <!-- Section 2: Nh·∫≠n l·ªõp ngay -->
    <div id="section-2" class="container py-4"></div>
    <div class="section-divider with-icon">
        <span class="divider-icon"> </span>
    </div>



    <!-- Section 3: L∆∞u √Ω h·ªçc ph√≠ & li√™n h·ªá -->
    <div id="section-3" class="container py-4"></div>
    <div class="section-divider with-icon">
        <span class="divider-icon"> </span>
    </div>

    <!-- Section 4: Danh s√°ch c√°c l·ªõp -->
    <div id="section-4" class="container py-4"></div>
    <div class="section-divider with-icon">
        <span class="divider-icon"></span>
    </div>









    <!-- Swiper Section -->
    <section class="section-5">
        <div class="section-5__swiper">
            <h2 class="section-5__heading">PH·∫¢N H·ªíI T·ª™ KH√ÅCH H√ÄNG</h2>
            <div class="swiper feedback-swiper">
                <div class="swiper-wrapper" id="feedbackContainer">
                    <div class="swiper-slide section-5__text-center">ƒêang t·∫£i feedback...</div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </section>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Feedback Script -->
    <script>
        function convertDriveLinkToImage(link) {
            if (!link) return "https://via.placeholder.com/300x200?text=No+Image";
            const fileMatch = link.match(/\/file\/d\/([^/]+)\//);
            const id = fileMatch?.[1];
            return id ? `https://drive.google.com/thumbnail?id=${id}&sz=w400` : "https://via.placeholder.com/300x200?text=No+Image";
        }

        function loadFeedbackSection() {
            fetch("https://opensheet.elk.sh/1h9qiy1UYF6niv1MNrj4v7frYfa7yanFcJjOEtS-8OTQ/Feedback")
                .then(res => res.json())
                .then(data => {
                    const container = document.getElementById("feedbackContainer");
                    container.innerHTML = "";

                    if (!data || data.length === 0) {
                        container.innerHTML = `<div class="swiper-slide"><p class="section-5__text-center">Kh√¥ng c√≥ feedback n√†o.</p></div>`;
                        return;
                    }

                    data.forEach(item => {
                        const imgSrc = convertDriveLinkToImage(item["Link feedback"]);
                        const teacher = item["T√™n gi√°o vi√™n"] || "Kh√¥ng r√µ";
                        const role = item["Vai tr√≤"] || "Kh√¥ng r√µ";
                        const content = item["N·ªôi dung feedback"] || "Kh√¥ng c√≥ n·ªôi dung";

                        container.innerHTML += `
            <div class="swiper-slide">
              <div class="section-5__card">
                <img src="${imgSrc}" class="section-5__feedback-img" alt="Feedback image" loading="lazy">
                <div class="section-5__brand-box">
                  <div class="section-5__logo">
                    <img src="./assets/images/logo1.svg" alt="Logo Gia s∆∞" class="section-5__logo-img">
                  </div>
                  <div class="section-5__brand">Gia s∆∞ TOP</div>
                  <div class="section-5__title">Feedback t·ª´ gi√°o vi√™n</div>
                  <ul class="section-5__features">
                    <li><strong>T√™n:</strong> ${teacher}</li>
                    <li><strong>Vai tr√≤:</strong> ${role}</li>
                    <li><strong>N·ªôi dung:</strong> ${content}</li>
                  </ul>
                  <div class="section-5__quote">"C·∫£m ∆°n v√¨ ƒë√£ tin t∆∞·ªüng d·ªãch v·ª• c·ªßa ch√∫ng t√¥i!"</div>
                  <div class="section-5__footer-link">www.giasutop.vn</div>
                </div>
              </div>
            </div>
          `;
                    });

                    new Swiper(".feedback-swiper", {
                        slidesPerView: 1,
                        spaceBetween: 30,
                        navigation: {
                            nextEl: ".swiper-button-next",
                            prevEl: ".swiper-button-prev",
                        },
                        loop: true,
                        autoplay: {
                            delay: 5000,
                            disableOnInteraction: false,
                        },
                    });
                })
                .catch(err => {
                    console.error("Fetch error:", err);
                    document.getElementById("feedbackContainer").innerHTML = `
          <div class="swiper-slide"><p class="section-5__text-center">Kh√¥ng th·ªÉ t·∫£i feedback: ${err.message}</p></div>
        `;
                });
        }

        document.addEventListener("DOMContentLoaded", loadFeedbackSection);
    </script>









    <!-- Footer -->
    <div id="footer" class="container py-4"></div>
    <div class="section-divider with-icon">
        <span class="divider-icon"> </span>
    </div>


    <div class="floating-social-buttons">
        <div class="contact-popup">üí¨ Li√™n h·ªá v·ªõi ch√∫ng t√¥i</div>

        <a href="https://zalo.me" class="social-button zalo" target="_blank" aria-label="Chat Zalo">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Icon_of_Zalo.svg/512px-Icon_of_Zalo.svg.png"
                alt="Zalo" width="35" height="35" />
        </a>

        <a href="https://m.me" target="_blank" class="social-button messenger" aria-label="Chat on Messenger">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Facebook_Messenger_logo_2020.svg/120px-Facebook_Messenger_logo_2020.svg.png"
                alt="Messenger" width="35" height="35">
        </a>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qEYqeGpA4u0ysp2i3UzUV2PpGIG6J2XTVPSMQQC9qcsTVvOaJjF3vJ8cNPtK2F7r"
        crossorigin="anonymous"></script>

    <script src="./assets/js/script.js"></script>
</body>

</html>